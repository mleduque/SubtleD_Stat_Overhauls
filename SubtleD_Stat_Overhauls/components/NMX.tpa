
//__________________________________________________________________________________
//__________________________________________________________________________________
//
//						XP REWARD CHANGES
//__________________________________________________________________________________
//__________________________________________________________________________________

DEFINE_ACTION_FUNCTION revise_enemy_xp INT_VAR xp_divisor = 2 BEGIN

//COPY MARKER FILE_________________________________________________________________
//
COPY ~%MOD_FOLDER%/lib/d5_marker.d5~ ~override/d5__nmx.d5~
//__________________________________________________________________________________


//___________________________________________________________________________________
//
COPY_EXISTING_REGEXP GLOB ~^.+\.cre$~ ~override~
	PATCH_IF (SOURCE_SIZE > 0x71) BEGIN
		READ_LONG 0x14 xp
		PATCH_IF (xp > 10) BEGIN
			SET new_xp = (xp / xp_divisor)
			WRITE_LONG 0x14 new_xp
		END
	END
BUT_ONLY
//___________________________________________________________________________________

END // end function